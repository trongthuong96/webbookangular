import{a as J}from"./chunk-T3YQ6FNT.js";import{a as X}from"./chunk-CKG4SXRU.js";import{g as H,j as O,k as N}from"./chunk-XLBWKML2.js";import{a as Z}from"./chunk-HWLAH6MP.js";import{h as $,i as z,j as q,k as R,m as F}from"./chunk-4OMTBMHX.js";import{$a as f,Ea as j,Fa as P,Oa as r,Pa as u,Xa as d,Z as V,ab as k,bb as h,ca as S,cb as g,da as E,db as v,ea as x,eb as n,fa as B,fb as i,gb as m,jb as w,lb as I,mb as b,nb as T,pb as o,qa as M,qb as L,rb as p,sb as U,wb as D,xb as y,yb as _}from"./chunk-56BPKO74.js";var C=class{};function ee(e,a){e&1&&(n(0,"div",26)(1,"div",27)(2,"span",28),o(3,"Loading..."),i()()())}function te(e,a){if(e&1&&(n(0,"a",79),o(1),i()),e&2){let t=a.$implicit;r(1),p("",t.name,", ")}}function ie(e,a){e&1&&o(0," C\xF2n ti\u1EBFp ")}function ne(e,a){e&1&&o(0," Ho\xE0n th\xE0nh ")}function oe(e,a){e&1&&o(0," T\u1EA1m ng\u01B0ng ")}function re(e,a){e&1&&(x(),n(0,"svg",80),m(1,"path",81),i())}function ae(e,a){e&1&&(x(),n(0,"svg",82),m(1,"path",83),i())}function le(e,a){e&1&&(n(0,"div",84)(1,"div",27)(2,"span",28),o(3,"Loading..."),i()()())}function se(e,a){e&1&&m(0,"div",89)}var de=e=>[e];function ce(e,a){if(e&1){let t=w();n(0,"div",89)(1,"div",90)(2,"a",91),I("click",function(){S(t);let l=b(3);return E(l.reLoadPage())}),o(3),i()()()}if(e&2){let t=a.$implicit;r(2),d("routerLink",_(3,de,t.chapterIndex)),r(1),U(" Ch\u01B0\u01A1ng ",t.chapNumber,": ",t.title," ")}}function me(e,a){if(e&1&&(n(0,"div",85)(1,"div",0)(2,"div",86),f(3,se,1,0,"div",87)(4,ce,4,5,"div",88),i()()()),e&2){let t=b(2);r(2),d("ngClass",t.reverse),r(1),d("ngIf",t.chapters.length%2!==0&&t.reverseCheck),r(1),d("ngForOf",t.chapters)}}function pe(e,a){if(e&1){let t=w();n(0,"div",29)(1,"div",30)(2,"div",1)(3,"div",31)(4,"div",32),m(5,"img",33),i()(),n(6,"div",34)(7,"h3",35),o(8),i(),n(9,"div",36)(10,"div",37),m(11,"img",38)(12,"img",39)(13,"img",40)(14,"img",41)(15,"img",42)(16,"img",43)(17,"img",44)(18,"img",45)(19,"img",46)(20,"img",47),i(),m(21,"em",48),n(22,"div",49)(23,"em"),o(24,"\u0110\xE1nh gi\xE1: "),n(25,"strong")(26,"span",50),o(27,"7.0"),i()(),o(28," / "),n(29,"span",51),o(30,"10"),i(),o(31," t\u1EEB "),n(32,"strong")(33,"span",52),o(34,"415"),i(),o(35," l\u01B0\u1EE3t "),i()()()(),m(36,"div",53),n(37,"div",54)(38,"div",55)(39,"span",56),o(40,"Xem th\xEAm"),i(),x(),n(41,"svg",57),m(42,"path",58),i()(),B(),n(43,"a",59)(44,"span",56),o(45,"Thu g\u1ECDn"),i(),x(),n(46,"svg",57),m(47,"path",60),i()()()()()(),B(),n(48,"div",61)(49,"div",62)(50,"div",63)(51,"p",64)(52,"strong"),o(53,"T\xE1c gi\u1EA3:"),i(),n(54,"a",65),o(55),i()(),n(56,"div",66)(57,"strong",67),o(58,"Th\u1EC3 lo\u1EA1i:"),i(),n(59,"div",68),g(60,te,2,1,"a",92,h),i()(),n(62,"p",64)(63,"strong"),o(64,"Tr\u1EA1ng th\xE1i:"),i(),n(65,"span",69),f(66,ie,1,0)(67,ne,1,0)(68,oe,1,0),i()()()()(),n(69,"div",70)(70,"div",71)(71,"div",62)(72,"div",72)(73,"h2",5)(74,"span",73),o(75,"Danh s\xE1ch ch\u01B0\u01A1ng"),i()()(),n(76,"div",74)(77,"button",75),I("click",function(){S(t);let l=b();return E(l.reverseChapters())}),f(78,re,2,0,":svg:svg",76)(79,ae,2,0),i()()()(),f(80,le,4,0,"div",77)(81,me,5,3,"div",78),i()()}if(e&2){let t=b();r(5),T("src",t.book==null?null:t.book.coverImage,P),T("alt",t.book==null?null:t.book.title),r(3),L(t.book==null?null:t.book.title),r(28),d("innerHTML",t.book==null?null:t.book.description,j),r(19),L(t.book==null||t.book.author==null?null:t.book.author.name),r(5),v(t.book==null?null:t.book.genres),r(6),k(66,(t.book==null?null:t.book.status)===0?66:(t.book==null?null:t.book.status)===1?67:68),r(12),k(78,t.reverseCheck?79:78),r(2),k(80,t.checkLoadingSpinChap?80:-1),r(1),d("ngIf",t.chapters!=null&&!t.checkLoadingSpinChap)}}var G=()=>["/truyen/"],A=e=>({"the-loai":e});function ue(e,a){if(e&1&&(n(0,"a",99),o(1),i()),e&2){let t=a.$implicit;d("routerLink",y(3,G))("queryParams",_(4,A,t.id)),r(1),p(" ",t.name," \xA0 ")}}var K=e=>["/truyen",e];function he(e,a){if(e&1&&(n(0,"li")(1,"div",93)(2,"div",94)(3,"span",95),o(4),i()(),n(5,"div",96)(6,"a",97),o(7),i(),n(8,"div",98),g(9,ue,2,6,"a",100,h),i()()()()),e&2){let t=a.$implicit,s=a.$index;r(4),p(" ",s+1," "),r(2),d("routerLink",_(3,K,t.slug)),r(1),p(" ",t.title," "),r(2),v(t.genres)}}function ge(e,a){if(e&1&&(n(0,"a",99),o(1),i()),e&2){let t=a.$implicit;d("routerLink",y(3,G))("queryParams",_(4,A,t.id)),r(1),p(" ",t.name," ")}}function ve(e,a){if(e&1&&(n(0,"li")(1,"div",93)(2,"div",101)(3,"span",102),o(4),i()(),n(5,"div",96)(6,"a",97),o(7),i(),n(8,"div",98),g(9,ge,2,6,"a",100,h),i()()()()),e&2){let t=a.$implicit,s=a.$index;r(4),p(" ",s+1," "),r(2),d("routerLink",_(3,K,t.slug)),r(1),p(" ",t.title," "),r(2),v(t.genres)}}function _e(e,a){if(e&1&&(n(0,"li",103)(1,"a",104),o(2),i()()),e&2){let t=a.$implicit;r(1),d("routerLink",y(3,G))("queryParams",_(4,A,t.id)),r(1),p(" ",t.name," ")}}var Ge=(()=>{let a=class a{constructor(s,l,c,Q,W,Y){this.bookService=s,this.route=l,this.router=c,this.titleService=Q,this.chapterService=W,this.platformId=Y,this.reverseCheck=!1,this.reverse=" ",this.checkLoadingSpin=!0,this.checkLoadingSpinChap=!0}ngOnInit(){this.route.queryParams.subscribe(s=>{this.uriValue=s.uri,this.uriValue!=null&&this.uriValue!=null?(this.checkLoadingSpin=!0,this.reLoadPage(),this.uri=new C,this.uri.uri=this.uriValue,this.GetBookCrawlUri(this.uri)):this.route.paramMap.subscribe(l=>{this.checkLoadingSpin=!0,this.reLoadPage(),this.slug=l.get("slug")?.toString(),this.GetBookBySlug(this.slug)})}),F(this.platformId)&&this.loadDataForBrowser()}loadDataForBrowser(){if(typeof localStorage<"u"&&localStorage.getItem("genres_info")){let s=localStorage.getItem("genres_info");this.genres=JSON.parse(s)}}GetBookById(s){this.bookService.GetBookById(s).subscribe(l=>{this.book=l})}GetChaptersByBookId(s){this.chapterService.getChaptersByBookId(s).subscribe(l=>{this.chapters=l,this.checkLoadingSpinChap=!1})}GetBookBySlug(s){this.bookService.GetBookBySlug(s).subscribe(l=>{this.chapters=[],this.checkLoadingSpinChap=!0,this.book=l,this.checkLoadingSpin=!1,this.GetChaptersByBookId(this.book?.id),this.titleService.setTitle(this.book.title),this.GetBookAuthor(l.author.id,1),this.GetBookUser(l.applicationUser.id,1)},l=>{l.status!==0&&this.router.navigate(["notfound"])})}GetBookCrawlUri(s){this.bookService.GetBookCrawlUri(s).subscribe(l=>{this.book=l,this.checkLoadingSpin=!1,this.titleService.setTitle(this.book.title),this.GetBookAuthor(l.author.id,1),this.GetBookUser(l.applicationUser.id,1)},l=>{l.status!==0&&this.router.navigate(["notfound"])})}reverseChapters(){this.reverseCheck=!this.reverseCheck,this.reverseCheck?this.reverse="flex-row-reverse flex-wrap-reverse":this.reverse=" "}GetBookAuthor(s,l){this.bookService.GetBookAuthor(s,l).subscribe(c=>{this.bookByAuthor=c})}GetBookUser(s,l){this.bookService.GetBookUser(s,l).subscribe(c=>{this.bookByUser=c})}reLoadPage(){F(this.platformId)&&window.scrollTo(0,0)}};a.\u0275fac=function(l){return new(l||a)(u(Z),u(H),u(O),u(J),u(X),u(M))},a.\u0275cmp=V({type:a,selectors:[["app-book"]],standalone:!0,features:[D],decls:38,vars:2,consts:[[1,"container"],[1,"row","align-items-start"],[1,"col-12","col-md-7","col-lg-8"],[1,"head-title-global","d-flex","justify-content-between","mb-4"],[1,"col-12","col-md-12","col-lg-4","head-title-global__left","d-flex"],[1,"me-2","mb-0","border-bottom","border-secondary","pb-1"],["title","Th\xF4ng tin truy\u1EC7n",1,"d-block","text-decoration-none","text-dark","fs-4","title-head-name"],["class","d-flex justify-content-center align-items-center","style","height: 70vh;"],["class","story-detail",4,"ngIf"],[1,"col-12","col-md-5","col-lg-4","sticky-md-top"],[1,"row","top-ratings"],[1,"col-12","top-ratings__tab","mb-2"],["id","list-tab","role","tablist",1,"list-group","d-flex","flex-row"],["id","top-day-list","data-bs-toggle","list","href","https://suustore.com/truyen/nang-khong-muon-lam-hoang-hau#top-day","role","tab","aria-controls","top-day","aria-selected","true",1,"list-group-item","list-group-item-action","active"],["id","top-month-list","data-bs-toggle","list","href","https://suustore.com/truyen/nang-khong-muon-lam-hoang-hau#top-month","role","tab","aria-controls","top-month","aria-selected","false","tabindex","-1",1,"list-group-item","list-group-item-action"],[1,"col-12","top-ratings__content"],["id","nav-tabContent",1,"tab-content"],["id","top-day","role","tabpanel","aria-labelledby","top-day-list",1,"tab-pane","fade","show","active"],["id","top-month","role","tabpanel","aria-labelledby","top-month-list",1,"tab-pane","fade"],[1,"section-list-category","bg-light","p-2","rounded","card-custom","mt-3"],[1,"head-title-global","mb-2"],[1,"col-12","col-md-12","head-title-global__left"],[1,"mb-0","border-bottom","border-secondary","pb-1"],["href","#","title","Truy\u1EC7n \u0111ang \u0111\u1ECDc",1,"d-block","text-decoration-none","text-dark","fs-4"],[1,"row","ml-2"],[1,"list-category"],[1,"d-flex","justify-content-center","align-items-center",2,"height","70vh"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"story-detail"],[1,"story-detail__top","d-flex","align-items-start"],[1,"col-12","col-md-12","col-lg-3","story-detail__top--image"],[1,"book-3d"],["width","200","height","300","loading","eager",1,"img-fluid","w-100",3,"src","alt"],[1,"col-12","col-md-12","col-lg-9"],[1,"text-center","story-name"],[1,"rate-story","mb-2"],["data-score","7.0",1,"rate-story__holder","d-flex"],["alt","1","src","./assets/images/star-on.png"],["alt","2","src","./assets/images/star-on.png"],["alt","3","src","./assets/images/star-on.png"],["alt","4","src","./assets/images/star-on.png"],["alt","5","src","./assets/images/star-on.png"],["alt","6","src","./assets/images/star-on.png"],["alt","7","src","./assets/images/star-half.png"],["alt","8","src","./assets/images/star-off.png"],["alt","9","src","./assets/images/star-off.png"],["alt","10","src","./assets/images/star-off.png"],[1,"rate-story__text"],["itemprop","aggregateRating","itemscope","","itemtype","https://schema.org/AggregateRating",1,"rate-story__value"],["itemprop","ratingValue"],["itemprop","bestRating",1,""],["itemprop","ratingCount"],[1,"story-detail__top--desc","px-3",2,"max-height","285px",3,"innerHTML"],[1,"info-more"],["id","info_more",1,"info-more--more","active"],[1,"me-1","text-dark"],["width","14","height","8","viewBox","0 0 14 8","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M7.70749 7.70718L13.7059 1.71002C14.336 1.08008 13.8899 0.00283241 12.9989 0.00283241L1.002 0.00283241C0.111048 0.00283241 -0.335095 1.08008 0.294974 1.71002L6.29343 7.70718C6.68394 8.09761 7.31699 8.09761 7.70749 7.70718Z","fill","#2C2C37"],[1,"info-more--collapse","text-decoration-none"],["d","M7.70749 0.292817L13.7059 6.28998C14.336 6.91992 13.8899 7.99717 12.9989 7.99717L1.002 7.99717C0.111048 7.99717 -0.335095 6.91992 0.294974 6.28998L6.29343 0.292817C6.68394 -0.097606 7.31699 -0.0976055 7.70749 0.292817Z","fill","#2C2C37"],[1,"story-detail__bottom","mb-3"],[1,"row"],[1,"col-12","col-md-12","col-lg-3","story-detail__bottom--info"],[1,"mb-1"],[1,"text-decoration-none","text-dark","hover-title"],[1,"d-flex","align-items-center","mb-1","flex-wrap"],[1,"me-1"],[1,"d-flex","align-items-center","flex-warp"],[1,"text-info"],[1,"story-detail__list-chapter"],[1,"head-title-global","justify-content-between","mb-4"],[1,"col-6","col-md-6","col-lg-6","head-title-global__left"],["href","#","title","Truy\u1EC7n hot",1,"d-block","text-decoration-none","text-dark","fs-4","title-head-name"],[1,"col-6","col-md-6","col-lg-6","head-title-global__left","text-center"],[1,"btn",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","class","bi bi-sort-down","viewBox","0 0 16 16"],["class","d-flex justify-content-center align-items-center"],["class","story-detail__list-chapter--list",4,"ngIf"],[1,"text-decoration-none","text-dark","hover-title","me-1",2,"width","max-content"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-sort-down"],["d","M3.5 2.5a.5.5 0 0 0-1 0v8.793l-1.146-1.147a.5.5 0 0 0-.708.708l2 1.999.007.007a.497.497 0 0 0 .7-.006l2-2a.5.5 0 0 0-.707-.708L3.5 11.293zm3.5 1a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5M7.5 6a.5.5 0 0 0 0 1h5a.5.5 0 0 0 0-1zm0 3a.5.5 0 0 0 0 1h3a.5.5 0 0 0 0-1zm0 3a.5.5 0 0 0 0 1h1a.5.5 0 0 0 0-1z"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-sort-up-alt"],["d","M3.5 13.5a.5.5 0 0 1-1 0V4.707L1.354 5.854a.5.5 0 1 1-.708-.708l2-1.999.007-.007a.498.498 0 0 1 .7.006l2 2a.5.5 0 1 1-.707.708L3.5 4.707zm4-9.5a.5.5 0 0 1 0-1h1a.5.5 0 0 1 0 1zm0 3a.5.5 0 0 1 0-1h3a.5.5 0 0 1 0 1zm0 3a.5.5 0 0 1 0-1h5a.5.5 0 0 1 0 1zM7 12.5a.5.5 0 0 0 .5.5h7a.5.5 0 0 0 0-1h-7a.5.5 0 0 0-.5.5"],[1,"d-flex","justify-content-center","align-items-center"],[1,"story-detail__list-chapter--list"],[1,"row","d-flex",3,"ngClass"],["class","col-sm-6 col-md-12 col-lg-6 story-detail__list-chapter--list__item",4,"ngIf"],["class","col-sm-6 col-md-12 col-lg-6 story-detail__list-chapter--list__item",4,"ngFor","ngForOf"],[1,"col-sm-6","col-md-12","col-lg-6","story-detail__list-chapter--list__item"],[1,"mb-3"],[1,"text-decoration-none","text-dark","hover-title",3,"routerLink","click"],["class","text-decoration-none text-dark hover-title  me-1 ","style","width: max-content;"],[1,"rating-item","d-flex","align-items-center"],[1,"rating-item__number","bg-light","rounded-circle"],[1,"text-dark"],[1,"rating-item__story"],[1,"text-decoration-none","hover-title","rating-item__story--name","text-one-row",3,"routerLink"],[1,"d-flex","flex-wrap","rating-item__story--categories"],[1,"text-decoration-none","text-dark","hover-title","me-1",3,"routerLink","queryParams"],["class","text-decoration-none text-dark hover-title  me-1 ",3,"routerLink","queryParams"],[1,"rating-item__number","bg-success","rounded-circle"],[1,"text-light"],[1,""],[1,"text-decoration-none","text-dark","hover-title",3,"routerLink","queryParams"],["class",""]],template:function(l,c){l&1&&(n(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h2",5)(6,"span",6),o(7,"Th\xF4ng tin truy\u1EC7n"),i()()()(),f(8,ee,4,0,"div",7)(9,pe,82,9,"div",8),i(),n(10,"div",9)(11,"div",10)(12,"div",11)(13,"div",12)(14,"a",13),o(15,"C\xF9ng t\xE1c gi\u1EA3"),i(),n(16,"a",14),o(17,"C\xF9ng ng\u01B0\u1EDDi \u0111\u0103ng"),i()()(),n(18,"div",15)(19,"div",16)(20,"div",17)(21,"ul"),g(22,he,11,5,"li",null,h),i()(),n(24,"div",18)(25,"ul"),g(26,ve,11,5,"li",null,h),i()()(),n(28,"div",19)(29,"div",20)(30,"div",21)(31,"h2",22)(32,"span",23),o(33,"Th\u1EC3 lo\u1EA1i truy\u1EC7n"),i()()()(),n(34,"div",24)(35,"ul",25),g(36,_e,3,6,"li",105,h),i()()()()()()()()),l&2&&(r(8),k(8,c.checkLoadingSpin?8:-1),r(1),d("ngIf",!c.checkLoadingSpin),r(13),v(c.bookByAuthor),r(4),v(c.bookByUser),r(10),v(c.genres))},dependencies:[R,$,z,q,N]});let e=a;return e})();export{Ge as BookComponent};
