<div class="container-xl px-4 mt-4">

    <nav class="nav nav-borders">
        <a class="nav-link active ms-0"

            target="__blank">Thông tin</a>
        <!-- <a class="nav-link" href="https://www.bootdey.com/snippets/view/bs5-profile-billing-page"
            target="__blank">Thêm Truyện</a>
        <a class="nav-link" href="https://www.bootdey.com/snippets/view/bs5-profile-security-page"
            target="__blank">Security</a>
        <a class="nav-link" href="https://www.bootdey.com/snippets/view/bs5-edit-notifications-page"
            target="__blank">Notifications</a> -->
    </nav>
    <hr class="mt-0 mb-4">
    <div class="row">
        <div class="col-xl-4">

            <div class="card mb-4 mb-xl-0">
                <div class="card-header">Avatar</div>
                <div class="card-body d-flex flex-column align-items-center">
                    <label for="avatarInput">
                        <img class="img-account-profile rounded-circle mb-2" [src]="userProfile.avatar ? userProfile.avatar : './assets/images/avatar.png'" alt>
                        <div class="small font-italic text-muted">File ảnh không lớn hơn 1Mb</div>
                        <div class="small font-italic text-muted mb-4">Nhấp vào ảnh để đổi avatar</div>
                    </label>
            
                    <input type="file" id="avatarInput" (change)="onFileSelected($event)" style="display: none;" />
                    <!-- <button class="btn btn-primary" (click)="uploadImage()" type="button">Tải avatar</button> -->
                </div>
            </div>
            
        </div>
        <div class="col-xl-8">

            <div class="card mb-4">
                <div class="card-header">Thông tin chi tiết</div>
                <div class="card-body">
                    <form [formGroup]="profileForm" (submit)="submitSaveChange()">

                        <div class="mb-3">
                            <label class="small mb-1" for="inputUsername">Tên tài khoản</label>
                            <input class="form-control" id="inputUsername" [value]="userProfile.userName" type="text"
                                disabled>
                        </div>

                        <div class="row gx-3 mb-3">

                            <div class="col-md-6">
                                <label class="small mb-1" for="inputFullName">Tên hiển thị <i class="text-danger">*</i> </label>
                                <input class="form-control" id="inputFullName" formControlName="inputFullName" type="text"
                                    placeholder="Nhập tên hiển thị">
                                <div class="form-text text-danger" *ngIf="profileForm.get('inputFullName')?.hasError('required')">
                                    Tên hiển thị không được để trống.
                                </div>
                            </div>

                            <div class="col-md-6">
                                <label class="small mb-1" for="inputBirthday">Ngày sinh</label>
                                <input class="form-control" id="inputBirthday" formControlName="inputBirthday" type="text"
                                    placeholder="Nhập ngày sinh dạng dd/MM/yyyy">
                            </div>
                        </div>

                        <div class="row gx-3 mb-3">

                            <div class="col-md-6">
                                <label class="small mb-1" for="inputEmail">Email <i class="text-danger">*</i> </label>
                                <input class="form-control" id="inputEmail" type="text" formControlName="inputEmail" name="email"
                                    placeholder="Nhập email">
                                <div class="form-text text-danger" *ngIf="profileForm.get('inputEmail')?.hasError('email') || profileForm.get('inputEmail')?.hasError('required')">
                                    Địa chỉ email không hợp lệ.
                                </div>
                            </div>

                            <div class="col-md-6">
                                <label class="small mb-1" for="inputPhone">Số điện thoại</label>
                                <input class="form-control" id="inputPhone" formControlName="inputPhone" type="tel"
                                    placeholder="Nhập số điện thoại">
                                <div class="form-text text-danger" *ngIf="profileForm.get('inputPhone')?.hasError('pattern')">
                                    Số điện thoại không hợp lệ.
                                </div>
                            </div>
                           
                        </div>

                        <div class="row gx-3 mb-3">

                            <div class="col-md-6">
                                <label class="small mb-1" for="inputCreatedAt">Ngày tạo</label>
                                <input class="form-control" id="inputCreatedAt" type="text"  [value]="createdAt | date: 'HH:mm:ss dd/MM/yyyy' : 'GMT+7' "
                                   disabled>
                            </div>

                            <div class="col-md-6">
                                <label class="small mb-1" for="inputUpdatedAt">Ngày cập nhập</label>
                                <input class="form-control" id="inputUpdatedAt" type="text" [value]="updatedAt | date:'HH:mm:ss dd/MM/yyyy' : 'GMT+7' "
                                    disabled>
                            </div>
                           
                        </div>

                        <div class="d-flex justify-content-end">
                            <!-- Button "Lưu thông tin" được đặt sang bên phải -->
                            <button class="btn btn-primary" type="submit" [disabled]="!profileForm.valid"> Lưu thông tin </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
